{"version":3,"file":"6655-daaf3241e6f21f9d0ee6.js","mappings":"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","sources":["webpack://embla-carousel-docs/./src/components/Sandbox/React/SandboxFilesSrc/Autoplay/EmblaCarousel.tsx","webpack://embla-carousel-docs/../src/components/Options.ts","webpack://embla-carousel-docs/../src/components/Autoplay.ts"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react'\nimport { EmblaOptionsType } from 'embla-carousel'\nimport useEmblaCarousel from 'embla-carousel-react'\nimport Autoplay from 'embla-carousel-autoplay'\nimport {\n  NextButton,\n  PrevButton,\n  usePrevNextButtons\n} from '../EmblaCarouselArrowButtons'\n\ntype PropType = {\n  slides: number[]\n  options?: EmblaOptionsType\n}\n\nconst EmblaCarousel: React.FC<PropType> = (props) => {\n  const { slides, options } = props\n  const [emblaRef, emblaApi] = useEmblaCarousel(options, [\n    Autoplay({ playOnInit: false, delay: 3000 })\n  ])\n  const [isPlaying, setIsPlaying] = useState(false)\n\n  const {\n    prevBtnDisabled,\n    nextBtnDisabled,\n    onPrevButtonClick,\n    onNextButtonClick\n  } = usePrevNextButtons(emblaApi)\n\n  const onButtonAutoplayClick = useCallback(\n    (callback: () => void) => {\n      const autoplay = emblaApi?.plugins()?.autoplay\n      if (!autoplay) return\n\n      const resetOrStop =\n        autoplay.options.stopOnInteraction === false\n          ? autoplay.reset\n          : autoplay.stop\n\n      resetOrStop()\n      callback()\n    },\n    [emblaApi]\n  )\n\n  const toggleAutoplay = useCallback(() => {\n    const autoplay = emblaApi?.plugins()?.autoplay\n    if (!autoplay) return\n\n    const playOrStop = autoplay.isPlaying() ? autoplay.stop : autoplay.play\n    playOrStop()\n  }, [emblaApi])\n\n  useEffect(() => {\n    const autoplay = emblaApi?.plugins()?.autoplay\n    if (!autoplay) return\n\n    setIsPlaying(autoplay.isPlaying())\n    emblaApi\n      .on('autoplay:play', () => setIsPlaying(true))\n      .on('autoplay:stop', () => setIsPlaying(false))\n      .on('reInit', () => setIsPlaying(autoplay.isPlaying()))\n  }, [emblaApi])\n\n  return (\n    <div className=\"embla\">\n      <div className=\"embla__viewport\" ref={emblaRef}>\n        <div className=\"embla__container\">\n          {slides.map((index) => (\n            <div className=\"embla__slide\" key={index}>\n              <div className=\"embla__slide__number\">\n                <span>{index + 1}</span>\n              </div>\n            </div>\n          ))}\n        </div>\n      </div>\n\n      <div className=\"embla__controls\">\n        <div className=\"embla__buttons\">\n          <PrevButton\n            onClick={() => onButtonAutoplayClick(onPrevButtonClick)}\n            disabled={prevBtnDisabled}\n          />\n          <NextButton\n            onClick={() => onButtonAutoplayClick(onNextButtonClick)}\n            disabled={nextBtnDisabled}\n          />\n        </div>\n\n        <button className=\"embla__play\" onClick={toggleAutoplay} type=\"button\">\n          {isPlaying ? 'Stop' : 'Start'}\n        </button>\n      </div>\n    </div>\n  )\n}\n\nexport default EmblaCarousel\n","import { CreateOptionsType } from 'embla-carousel'\n\nexport type OptionsType = CreateOptionsType<{\n  delay: number\n  jump: boolean\n  playOnInit: boolean\n  stopOnFocusIn: boolean\n  stopOnInteraction: boolean\n  stopOnMouseEnter: boolean\n  stopOnLastSnap: boolean\n  rootNode: ((emblaRoot: HTMLElement) => HTMLElement | null) | null\n}>\n\nexport const defaultOptions: OptionsType = {\n  active: true,\n  breakpoints: {},\n  delay: 4000,\n  jump: false,\n  playOnInit: true,\n  stopOnFocusIn: true,\n  stopOnInteraction: true,\n  stopOnMouseEnter: false,\n  stopOnLastSnap: false,\n  rootNode: null\n}\n","import { OptionsType, defaultOptions } from './Options'\nimport {\n  CreatePluginType,\n  OptionsHandlerType,\n  EmblaCarouselType\n} from 'embla-carousel'\n\ndeclare module 'embla-carousel' {\n  interface EmblaPluginsType {\n    autoplay: AutoplayType\n  }\n\n  interface EmblaEventListType {\n    autoplayPlay: 'autoplay:play'\n    autoplayStop: 'autoplay:stop'\n  }\n}\n\nexport type AutoplayType = CreatePluginType<\n  {\n    play: (jump?: boolean) => void\n    stop: () => void\n    reset: () => void\n    isPlaying: () => boolean\n  },\n  OptionsType\n>\n\nexport type AutoplayOptionsType = AutoplayType['options']\n\nfunction Autoplay(userOptions: AutoplayOptionsType = {}): AutoplayType {\n  let options: OptionsType\n  let emblaApi: EmblaCarouselType\n  let destroyed: boolean\n  let playing = false\n  let resume = true\n  let jump = false\n  let timer = 0\n\n  function init(\n    emblaApiInstance: EmblaCarouselType,\n    optionsHandler: OptionsHandlerType\n  ): void {\n    emblaApi = emblaApiInstance\n\n    const { mergeOptions, optionsAtMedia } = optionsHandler\n    const optionsBase = mergeOptions(defaultOptions, Autoplay.globalOptions)\n    const allOptions = mergeOptions(optionsBase, userOptions)\n    options = optionsAtMedia(allOptions)\n\n    if (emblaApi.scrollSnapList().length <= 1) return\n\n    jump = options.jump\n    destroyed = false\n\n    const { eventStore, ownerDocument } = emblaApi.internalEngine()\n    const emblaRoot = emblaApi.rootNode()\n    const root = (options.rootNode && options.rootNode(emblaRoot)) || emblaRoot\n    const container = emblaApi.containerNode()\n\n    emblaApi.on('pointerDown', stopTimer)\n\n    if (!options.stopOnInteraction) {\n      emblaApi.on('pointerUp', startTimer)\n    }\n\n    if (options.stopOnMouseEnter) {\n      eventStore.add(root, 'mouseenter', () => {\n        resume = false\n        stopTimer()\n      })\n\n      if (!options.stopOnInteraction) {\n        eventStore.add(root, 'mouseleave', () => {\n          resume = true\n          startTimer()\n        })\n      }\n    }\n\n    if (options.stopOnFocusIn) {\n      emblaApi.on('slideFocusStart', stopTimer)\n\n      if (!options.stopOnInteraction) {\n        eventStore.add(container, 'focusout', startTimer)\n      }\n    }\n\n    eventStore.add(ownerDocument, 'visibilitychange', visibilityChange)\n\n    if (options.playOnInit && !documentIsHidden()) startTimer()\n  }\n\n  function destroy(): void {\n    emblaApi\n      .off('pointerDown', stopTimer)\n      .off('pointerUp', startTimer)\n      .off('slideFocusStart', stopTimer)\n    stopTimer()\n    destroyed = true\n    playing = false\n  }\n\n  function startTimer(): void {\n    if (destroyed) return\n    if (!resume) return\n    if (!playing) emblaApi.emit('autoplay:play')\n    const { ownerWindow } = emblaApi.internalEngine()\n    ownerWindow.clearInterval(timer)\n    timer = ownerWindow.setInterval(next, options.delay)\n    playing = true\n  }\n\n  function stopTimer(): void {\n    if (destroyed) return\n    if (playing) emblaApi.emit('autoplay:stop')\n    const { ownerWindow } = emblaApi.internalEngine()\n    ownerWindow.clearInterval(timer)\n    timer = 0\n    playing = false\n  }\n\n  function visibilityChange(): void {\n    if (documentIsHidden()) {\n      resume = playing\n      return stopTimer()\n    }\n\n    if (resume) startTimer()\n  }\n\n  function documentIsHidden(): boolean {\n    const { ownerDocument } = emblaApi.internalEngine()\n    return ownerDocument.visibilityState === 'hidden'\n  }\n\n  function play(jumpOverride?: boolean): void {\n    if (typeof jumpOverride !== 'undefined') jump = jumpOverride\n    resume = true\n    startTimer()\n  }\n\n  function stop(): void {\n    if (playing) stopTimer()\n  }\n\n  function reset(): void {\n    if (playing) play()\n  }\n\n  function isPlaying(): boolean {\n    return playing\n  }\n\n  function next(): void {\n    const { index } = emblaApi.internalEngine()\n    const nextIndex = index.clone().add(1).get()\n    const lastIndex = emblaApi.scrollSnapList().length - 1\n    const kill = options.stopOnLastSnap && nextIndex === lastIndex\n\n    if (kill) stopTimer()\n\n    if (emblaApi.canScrollNext()) {\n      emblaApi.scrollNext(jump)\n    } else {\n      emblaApi.scrollTo(0, jump)\n    }\n  }\n\n  const self: AutoplayType = {\n    name: 'autoplay',\n    options: userOptions,\n    init,\n    destroy,\n    play,\n    stop,\n    reset,\n    isPlaying\n  }\n  return self\n}\n\ndeclare namespace Autoplay {\n  let globalOptions: AutoplayOptionsType | undefined\n}\n\nAutoplay.globalOptions = undefined\n\nexport default Autoplay\n"],"names":["props","slides","options","emblaRef","emblaApi","useEmblaCarousel","Autoplay","playOnInit","delay","isPlaying","setIsPlaying","useState","prevBtnDisabled","nextBtnDisabled","onPrevButtonClick","onNextButtonClick","usePrevNextButtons","onButtonAutoplayClick","useCallback","callback","_emblaApi$plugins","autoplay","plugins","stopOnInteraction","reset","stop","toggleAutoplay","_emblaApi$plugins2","play","useEffect","_emblaApi$plugins3","on","React","className","ref","map","index","key","PrevButton","onClick","disabled","NextButton","type","defaultOptions","active","breakpoints","jump","stopOnFocusIn","stopOnMouseEnter","stopOnLastSnap","rootNode","userOptions","destroyed","playing","resume","timer","startTimer","emit","ownerWindow","internalEngine","clearInterval","setInterval","next","stopTimer","visibilityChange","documentIsHidden","ownerDocument","visibilityState","jumpOverride","nextIndex","clone","add","get","lastIndex","scrollSnapList","length","canScrollNext","scrollNext","scrollTo","name","init","emblaApiInstance","optionsHandler","mergeOptions","optionsAtMedia","optionsBase","globalOptions","allOptions","eventStore","emblaRoot","root","container","containerNode","destroy","off","undefined"],"sourceRoot":""}